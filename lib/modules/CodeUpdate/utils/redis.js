import{CodeUpdateRedisKey as e}from"../../../constants/index.js";export const redisHeler=new class{async isUpdate(e,s,t,i,a){const r=await redis.get(this.getRedisKey(e,s,t,i));return r&&JSON.parse(r)?.[0]?.shacode===a}async updatesSha(e,s,t,i,a){await redis.set(this.getRedisKey(e,s,t,i),JSON.stringify([{shacode:a}]))}getRedisKey(s,t,i="",a){const r="commits"===t?`${e}:${s}`:`${e}:${s}${t[0].toUpperCase()}${t.slice(1)}`;return i?a?`${r}:${i}:${a}`:`${r}:${i}`:r}};