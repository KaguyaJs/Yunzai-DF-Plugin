import r from"lodash";import o from"node:fs/promises";import i from"node:path";import{Data as t}from"../../utils/index.js";import{FaceApiHostName as n}from"../../constants/index.js";import{FacePath as e}from"../../dir.js";export async function randomFile(n){if(!await t.isDirectory(n))return null;const e=(await o.readdir(n,{withFileTypes:!0})).filter(r=>r.isFile()).map(r=>i.join(n,r.name));return e.length<1?null:r.sample(e)??null}export async function FacePoke(r){if(!r)throw new Error("表情属性为空，请检查表情黑名单或表情列表是否正确");const o=i.join(e,r);return await randomFile(o)??`https://${n}/?name=${r}`}