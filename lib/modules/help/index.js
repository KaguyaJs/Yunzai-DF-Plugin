import{Data as o}from"../../utils/index.js";import{ResPath as e}from"../../dir.js";export async function getThemeData(t){const l=t||{},r=Math.min(5,Math.max(l?.colCount||3,2)),n=Math.min(500,Math.max(100,l?.colWidth||265)),a=Math.min(2500,Math.max(800,r*n+30)),h={main:`${e}/help/imgs/main.jpg`,bg:`${e}/help/imgs/bg.jpg`,style:t.style},c=h.style||{},p=[`\n    .container{background:url("${h.main.replaceAll("\\","/")}") center top / cover no-repeat;width:${a}px;}\n    .help-table .td,.help-table .th{width:${100/r}%}\n    `],g=(e,t,r,n,a)=>{let h=o.def(c[r],l[r],n);a&&(h=a(h)),p.push(`${e}{${t}:${h}}`)};return g(".help-title,.help-group","color","fontColor","#ceb78b"),g(".help-title,.help-group","text-shadow","fontShadow","none"),g(".help-desc","color","descColor","#eee"),g(".cont-box","background","contBgColor","rgba(43, 52, 61, 0.8)"),g(".cont-box","backdrop-filter","contBgBlur",3,o=>!1===t.style?.bgBlur?"none":`blur(${o}px)`),g(".help-group","background","headerBgColor","rgba(34, 41, 51, .4)"),g(".help-table .tr:nth-child(odd)","background","rowBgColor1","rgba(34, 41, 51, .2)"),g(".help-table .tr:nth-child(even)","background","rowBgColor2","rgba(34, 41, 51, .4)"),{style:`<style>${p.join("\n")}</style>`,colCount:r}}