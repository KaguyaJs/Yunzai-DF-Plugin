import{exec as e}from"node:child_process";import{createTimer as r}from"./time.js";export async function exec(o,t,c=!1){if(Bot.exec){const{error:e,stdout:r}=await Bot.exec(o,{cwd:t,quiet:c});if(e)throw e;return r}return new Promise((i,g)=>{logger[c?"debug":"mark"](`[执行命令] ${logger.red(o)}`);const n=r();n.start(),e(o,{cwd:t},(e,r)=>e?g(e):i(String(r).trim())),logger[c?"debug":"mark"](`[命令执行完成] ${logger.red(o)} 耗时: ${n.end()}}`)})}