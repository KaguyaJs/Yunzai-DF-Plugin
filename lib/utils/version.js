import a from"./data.js";import{getRecentChangelogEntries as i}from"./changelog.js";import{PluginPath as n}from"../dir.js";const e=await a.readJSON("package.json","yunzai"),r=await a.readJSON("package.json","plugin"),u=e.version,o=r.version;let t=r.name;"df-plugin"!==t&&"yunzai-df-plugin"!==t||(t="Yunzai-DF-Plugin");let g="Yunzai",s=!1,l=!1;if(Array.isArray(Bot.uin))g="TRSS-Yunzai",s=!0;else{if("miao-yunzai"!==e.name)throw g=e.name,new Error(`不支持的Yunzai版本: ${g}`);g="Miao-Yunzai",l=!0}const m=await i(`${n}/CHANGELOG.md`);export default{yunzaiName:g,pluginName:t,yunzaiVer:u,pluginVer:o,get ver(){return o},isMiao:l,isTRSS:s,get logs(){return m},yunzaiPackage:e,pluginPackage:r};