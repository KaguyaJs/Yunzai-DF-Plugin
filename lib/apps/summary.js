import s from"../config/index.js";import{summary as r}from"../modules/index.js";s.summary.sum&&r.init(!0);export class Summary extends plugin{constructor(){super({name:"DF:图片外显",dsc:"为图片添加外显，需要协议支持",event:"message",priority:5e3,rule:[{reg:"^#(?:开启|关闭)图片外显",fnc:"on_off"}]})}async on_off(e=this.e){if(!e.isMaster)return!1;const m=e.msg.includes("开启"),{sum:i}=s.summary;return m&&i||!m&&!i?e.reply(`❎ 图片外显已处于${m?"开启":"关闭"}状态`):(await s.modify("summary","sum",m),r.init(m),e.reply(`✅ 已${m?"开启":"关闭"}图片外显`))}}